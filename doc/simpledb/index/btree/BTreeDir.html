<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Sat Feb 04 21:12:07 EST 2012 -->
<title>BTreeDir</title>
<meta name="date" content="2012-02-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BTreeDir";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BTreeDir.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../simpledb/index/btree/BTPageFormatter.html" title="class in simpledb.index.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../simpledb/index/btree/BTreeIndex.html" title="class in simpledb.index.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?simpledb/index/btree/BTreeDir.html" target="_top">Frames</a></li>
<li><a href="BTreeDir.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">simpledb.index.btree</div>
<h2 title="Class BTreeDir" class="title">Class BTreeDir</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>simpledb.index.btree.BTreeDir</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">BTreeDir</span>
extends java.lang.Object</pre>
<div class="block">A B-tree directory block.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Edward Sciore</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../simpledb/index/btree/BTreePage.html" title="class in simpledb.index.btree">BTreePage</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#contents">contents</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#filename">filename</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../simpledb/record/TableInfo.html" title="class in simpledb.record">TableInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#ti">ti</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../simpledb/tx/Transaction.html" title="class in simpledb.tx">Transaction</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#tx">tx</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#BTreeDir(simpledb.file.Block, simpledb.record.TableInfo, simpledb.tx.Transaction)">BTreeDir</a></strong>(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk,
        <a href="../../../simpledb/record/TableInfo.html" title="class in simpledb.record">TableInfo</a>&nbsp;ti,
        <a href="../../../simpledb/tx/Transaction.html" title="class in simpledb.tx">Transaction</a>&nbsp;tx)</code>
<div class="block">Creates an object to hold the contents of the specified
 B-tree block.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#close()">close</a></strong>()</code>
<div class="block">Closes the directory page.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#findChildBlock(simpledb.query.Constant)">findChildBlock</a></strong>(<a href="../../../simpledb/query/Constant.html" title="interface in simpledb.query">Constant</a>&nbsp;searchkey)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#insert(simpledb.index.btree.DirEntry)">insert</a></strong>(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</code>
<div class="block">Inserts a new directory entry into the B-tree block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#insertEntry(simpledb.index.btree.DirEntry)">insertEntry</a></strong>(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#makeNewRoot(simpledb.index.btree.DirEntry)">makeNewRoot</a></strong>(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</code>
<div class="block">Creates a new root block for the B-tree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/index/btree/BTreeDir.html#search(simpledb.query.Constant)">search</a></strong>(<a href="../../../simpledb/query/Constant.html" title="interface in simpledb.query">Constant</a>&nbsp;searchkey)</code>
<div class="block">Returns the block number of the B-tree leaf block
 that contains the specified search key.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ti">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ti</h4>
<pre>private&nbsp;<a href="../../../simpledb/record/TableInfo.html" title="class in simpledb.record">TableInfo</a> ti</pre>
</li>
</ul>
<a name="tx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tx</h4>
<pre>private&nbsp;<a href="../../../simpledb/tx/Transaction.html" title="class in simpledb.tx">Transaction</a> tx</pre>
</li>
</ul>
<a name="filename">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filename</h4>
<pre>private&nbsp;java.lang.String filename</pre>
</li>
</ul>
<a name="contents">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>contents</h4>
<pre>private&nbsp;<a href="../../../simpledb/index/btree/BTreePage.html" title="class in simpledb.index.btree">BTreePage</a> contents</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BTreeDir(simpledb.file.Block, simpledb.record.TableInfo, simpledb.tx.Transaction)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BTreeDir</h4>
<pre>BTreeDir(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk,
        <a href="../../../simpledb/record/TableInfo.html" title="class in simpledb.record">TableInfo</a>&nbsp;ti,
        <a href="../../../simpledb/tx/Transaction.html" title="class in simpledb.tx">Transaction</a>&nbsp;tx)</pre>
<div class="block">Creates an object to hold the contents of the specified
 B-tree block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - a reference to the specified B-tree block</dd><dd><code>ti</code> - the metadata of the B-tree directory file</dd><dd><code>tx</code> - the calling transaction</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the directory page.</div>
</li>
</ul>
<a name="search(simpledb.query.Constant)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;int&nbsp;search(<a href="../../../simpledb/query/Constant.html" title="interface in simpledb.query">Constant</a>&nbsp;searchkey)</pre>
<div class="block">Returns the block number of the B-tree leaf block
 that contains the specified search key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchkey</code> - the search key value</dd>
<dt><span class="strong">Returns:</span></dt><dd>the block number of the leaf block containing that search key</dd></dl>
</li>
</ul>
<a name="makeNewRoot(simpledb.index.btree.DirEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeNewRoot</h4>
<pre>public&nbsp;void&nbsp;makeNewRoot(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</pre>
<div class="block">Creates a new root block for the B-tree.
 The new root will have two children:
 the old root, and the specified block.
 Since the root must always be in block 0 of the file,
 the contents of the old root will get transferred to a new block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - the directory entry to be added as a child of the new root</dd></dl>
</li>
</ul>
<a name="insert(simpledb.index.btree.DirEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;insert(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</pre>
<div class="block">Inserts a new directory entry into the B-tree block.
 If the block is at level 0, then the entry is inserted there.
 Otherwise, the entry is inserted into the appropriate
 child node, and the return value is examined.
 A non-null return value indicates that the child node
 split, and so the returned entry is inserted into
 this block.
 If this block splits, then the method similarly returns
 the entry information of the new block to its caller;
 otherwise, the method returns null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - the directory entry to be inserted</dd>
<dt><span class="strong">Returns:</span></dt><dd>the directory entry of the newly-split block, if one exists; otherwise, null</dd></dl>
</li>
</ul>
<a name="insertEntry(simpledb.index.btree.DirEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertEntry</h4>
<pre>private&nbsp;<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;insertEntry(<a href="../../../simpledb/index/btree/DirEntry.html" title="class in simpledb.index.btree">DirEntry</a>&nbsp;e)</pre>
</li>
</ul>
<a name="findChildBlock(simpledb.query.Constant)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findChildBlock</h4>
<pre>private&nbsp;<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;findChildBlock(<a href="../../../simpledb/query/Constant.html" title="interface in simpledb.query">Constant</a>&nbsp;searchkey)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BTreeDir.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../simpledb/index/btree/BTPageFormatter.html" title="class in simpledb.index.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../simpledb/index/btree/BTreeIndex.html" title="class in simpledb.index.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?simpledb/index/btree/BTreeDir.html" target="_top">Frames</a></li>
<li><a href="BTreeDir.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
