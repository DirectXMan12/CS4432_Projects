<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Sat Feb 04 21:12:06 EST 2012 -->
<title>ConcurrencyMgr</title>
<meta name="date" content="2012-02-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConcurrencyMgr";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrencyMgr.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../simpledb/tx/concurrency/LockAbortException.html" title="class in simpledb.tx.concurrency"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?simpledb/tx/concurrency/ConcurrencyMgr.html" target="_top">Frames</a></li>
<li><a href="ConcurrencyMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">simpledb.tx.concurrency</div>
<h2 title="Class ConcurrencyMgr" class="title">Class ConcurrencyMgr</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>simpledb.tx.concurrency.ConcurrencyMgr</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ConcurrencyMgr</span>
extends java.lang.Object</pre>
<div class="block">The concurrency manager for the transaction.
 Each transaction has its own concurrency manager. 
 The concurrency manager keeps track of which locks the 
 transaction currently has, and interacts with the
 global lock table as needed.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Edward Sciore</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#locks">locks</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../simpledb/tx/concurrency/LockTable.html" title="class in simpledb.tx.concurrency">LockTable</a></code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#locktbl">locktbl</a></strong></code>
<div class="block">The global lock table.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#ConcurrencyMgr()">ConcurrencyMgr</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#hasXLock(simpledb.file.Block)">hasXLock</a></strong>(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#release()">release</a></strong>()</code>
<div class="block">Releases all locks by asking the lock table to
 unlock each one.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#sLock(simpledb.file.Block)">sLock</a></strong>(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</code>
<div class="block">Obtains an SLock on the block, if necessary.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../simpledb/tx/concurrency/ConcurrencyMgr.html#xLock(simpledb.file.Block)">xLock</a></strong>(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</code>
<div class="block">Obtains an XLock on the block, if necessary.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="locktbl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locktbl</h4>
<pre>private static&nbsp;<a href="../../../simpledb/tx/concurrency/LockTable.html" title="class in simpledb.tx.concurrency">LockTable</a> locktbl</pre>
<div class="block">The global lock table.  This variable is static because all transactions
 share the same table.</div>
</li>
</ul>
<a name="locks">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>locks</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>,java.lang.String&gt; locks</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConcurrencyMgr()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrencyMgr</h4>
<pre>public&nbsp;ConcurrencyMgr()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sLock(simpledb.file.Block)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sLock</h4>
<pre>public&nbsp;void&nbsp;sLock(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</pre>
<div class="block">Obtains an SLock on the block, if necessary.
 The method will ask the lock table for an SLock
 if the transaction currently has no locks on that block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - a reference to the disk block</dd></dl>
</li>
</ul>
<a name="xLock(simpledb.file.Block)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xLock</h4>
<pre>public&nbsp;void&nbsp;xLock(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</pre>
<div class="block">Obtains an XLock on the block, if necessary.
 If the transaction does not have an XLock on that block,
 then the method first gets an SLock on that block
 (if necessary), and then upgrades it to an XLock.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - a refrence to the disk block</dd></dl>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release()</pre>
<div class="block">Releases all locks by asking the lock table to
 unlock each one.</div>
</li>
</ul>
<a name="hasXLock(simpledb.file.Block)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hasXLock</h4>
<pre>private&nbsp;boolean&nbsp;hasXLock(<a href="../../../simpledb/file/Block.html" title="class in simpledb.file">Block</a>&nbsp;blk)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrencyMgr.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../simpledb/tx/concurrency/LockAbortException.html" title="class in simpledb.tx.concurrency"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?simpledb/tx/concurrency/ConcurrencyMgr.html" target="_top">Frames</a></li>
<li><a href="ConcurrencyMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
